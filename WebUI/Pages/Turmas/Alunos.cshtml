@page
@model WebUI.Pages.Turmas.AlunosModel
@{
    ViewData["Title"] = $"Alunos da Turma - {Model.TurmaNome}";
}
<div class="turmas-container">
    <h2 style="color:#008cff;">Alunos da Turma: @Model.TurmaNome</h2>
    <a href="/Turmas/Index" class="turmas-btn" style="text-decoration:none;display:inline-block;margin-bottom:20px;">Voltar às Turmas</a>
    <table class="turmas-table">
        <thead>
            <tr>
                <th>Nome</th>
                <th>E-mail</th>
                <th>Usuário</th>
                <th>Professor Responsável</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Alunos != null && Model.Alunos.Any())
            {
                foreach (var aluno in Model.Alunos)
                {
                    <tr>
                        <td>@aluno.Nome</td>
                        <td>@aluno.Email</td>
                        <td>@aluno.Usuario</td>
                        <td>@aluno.ProfessorNome</td>
                        <td>
                            <button class="turmas-btn" onclick="location.href='@Url.Page("/Alunos/Form", new { id = aluno.ID })'">Editar</button>
                            <form method="post" asp-page-handler="Delete" asp-route-id="@aluno.ID" style="display:inline;">
                                <button class="turmas-btn danger" type="submit" onclick="return confirm('Deseja realmente excluir?')">Excluir</button>
                            </form>
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr><td colspan="5">Nenhum aluno encontrado nesta turma.</td></tr>
            }
        </tbody>
    </table>
</div> 